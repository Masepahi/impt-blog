<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

    <title>Impt.Blog - Sign In</title>
  </head>
  <body>
    <%- include("../partials/header_logged") -%>
    <% console.log(user.firstName) %>

    <div class="relative">
        <div
          id="userInfo"
          class="absolute top-0 right-0 bg-gray-50 rounded-lg border-dashed border-2 pl-3 pr-3"
        >
        <div class='flex flex-row'>
            <img src="/images/<%= user.avatar %>" class="rounded-2xl w-16 h-16 mt-6 ml-6" />
           
            <div class="">
              <p class="mt-6 ml-8 font-semibold text-sm"><%= user.firstName %> <%= user.lastName %></p>
              <p id='dashboard_userName' class="leading-5 text-gray-400 ml-8 font-medium"><%= user.userName %></p>
              <div class="flex flex-row mt-3">
                <img class="ml-8" src="/images/Discovery.svg"/> <p id='dashboard_userName' class="leading-5 ml-2 font-medium"><%= user.email %></p>
              </div>
              <p class="text-sm ml-8 mt-5"><%= user.bio %></p>
            </div>
        
            <div id="editBtn" class="mt-5 ml-20">
              <a class='flex flex-row w-20 content-center p-2 border-2 border-gray-400 rounded-lg bg-transparent' href="./updateInfoPage"> <img class="mr-2" src="/images/Edit.svg"/> <p class="font-semibold text-sm" style='margin-top: 2px'>EDIT</p></a>
            </div>
          </div>
        </div>

        <div 
        id="articleImage"
        class="absolute bottm-0 right-0"
        >
          <div>
            <img src="/images/articles/<%= article.image %>" class="w-56 h-50 col-start-2 ml-5 rounded-3xl" alt="">
            <form method='post' action='../articleImage/<%= article._id %>' enctype="multipart/form-data">
              <div class="inputWrapper flex flex-row ml-2 font-semibold h-12 w-12 text-sm flex flex-row p-2 border-2 border-gray-400 cursor-pointer rounded-lg">
                <input class="fileInput" type="file" name="image" hidden/>
                <img class="mr-2" src="/images/Edit.svg"/><p class="ml-2 font-semibold text-sm" style="margin-top:2px">EDIT</p>
              </div>
            

            </form>
          </div>

        </div>
    </div>
    <div class="tinymce-container ml-40">
      <button type="button" class="publishBtn flex flex-row w-28 content-center p-2 border-2 border-gray-400 rounded-lg bg-transparent uppercase font-semibold text-sm"><img src="/images/Upload.svg" class='pr-2'/><h3 class='mt-0.5'>publish</h3></button>

      <div id='titleEditor' name='title' class="tinymce-heading">
        <%- article.title %>
      </div>
      <div id='tinyEditor' name='text' class="tinymce-body mt-4">
        <%- article.text %>
        
      </div>
    </div>

  
  
    
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
    <script src="/javascripts/editArticle.js"></script>
  </body>
</html>


